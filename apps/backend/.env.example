# Database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5435/shopping_agent

# Authentication (Resend)
RESEND_API_KEY=
FROM_EMAIL=Agent Shopper <shopper@info.xcor-cto.com>

# Vendor Search (Optional depending on tier)
SEARCHAPI_API_KEY=
SERPAPI_API_KEY=
VALUESERP_API_KEY=
RAINFOREST_API_KEY=
GOOGLE_CSE_API_KEY=
GOOGLE_CSE_CX=
SCALESERP_API_KEY=

# Kroger Product API (Grocery/Household sourcing)
# Get credentials at: https://developer.kroger.com
KROGER_CLIENT_ID=
KROGER_CLIENT_SECRET=
KROGER_LOCATION_ID=
KROGER_ZIP_CODE=
USE_MOCK_SEARCH=auto

# Affiliate Configuration
AMAZON_AFFILIATE_TAG=
EBAY_CAMPAIGN_ID=
SKIMLINKS_PUBLISHER_ID=

# eBay Partner Network (EPN) tracking link parameters
# See: https://developer.ebay.com/api-docs/buy/static/ref-epn-link.html
EBAY_ROTATION_ID=
EBAY_CHANNEL_ID=1
EBAY_EVENT_TYPE=1
EBAY_TOOL_ID=10001
EBAY_CUSTOM_ID=

# eBay Browse API (official)
EBAY_CLIENT_ID=
EBAY_CLIENT_SECRET=
EBAY_MARKETPLACE_ID=EBAY-US

# Stripe (Checkout)
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PUBLISHABLE_KEY=

# Vendor Discovery
VENDOR_DISCOVERY_BACKEND=local
WATTDATA_MCP_URL=
WATTDATA_API_KEY=

# CSRF Protection (required in production, recommended everywhere)
# Generate with: openssl rand -hex 32
CSRF_SECRET_KEY=

# Admin notifications — email alerts when vendors engage with outreach
ADMIN_NOTIFY_EMAIL=

# Dev mode: redirect ALL vendor-facing emails here instead of real vendors
# Unset or leave empty in production to send to real vendors
DEV_EMAIL_OVERRIDE=

# Environment
ENVIRONMENT=development
E2E_TEST_MODE=0

# Sourcing tuning
SOURCING_PROVIDER_TIMEOUT_SECONDS=8

# Bug Triage (Optional - AI-powered bug report classification)
# If not provided, bug reports will default to "bug" classification with 0.0 confidence
OPENROUTER_API_KEY=
BUG_TRIAGE_MODEL=google/gemini-3-flash-preview
BUG_TRIAGE_CONFIDENCE_THRESHOLD=0.7

# ── Vector Embeddings (Vendor Semantic Search) ───────────────────────────────
# Routed through OpenRouter (uses OPENROUTER_API_KEY above).
# Model: OpenAI text-embedding-3-small (1536 dimensions) via OpenRouter
# Used to generate embeddings for VendorProfile.profile_text → VendorProfile.embedding
# Required for semantic vendor search; lexical (ILIKE) search works without it.
EMBEDDING_MODEL=openai/text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# pgvector toggle — set to true ONLY when the Postgres instance has CREATE EXTENSION vector.
# Defaults to false so local dev without pgvector works (embedding column falls back to JSON).
# On Railway: USE_PGVECTOR=true
USE_PGVECTOR=false

# ── Deal Pipeline (Proxy Email Relay) ────────────────────────────────────────
# Subdomain for proxy email aliases (must have DNS + Resend inbound configured)
DEAL_MESSAGES_DOMAIN=messages.buy-anything.com
# Resend webhook signing secret for inbound email verification
RESEND_WEBHOOK_SECRET=
